功能概述
开机显示欢迎界面；
按下按键1（S2）进入频谱显示模式；
按下按键2（S3）可切换3种频谱样式；
频谱样式一：OLED根据音乐节奏柱（细柱）状显示频谱，同时LED彩灯根据频谱平均值柱状亮灯；
频谱样式二：OLED根据音乐节奏柱（粗柱）状显示频谱，同时LED彩灯根据频谱平均值柱状亮灯；
频谱样式三：OLED显示波形频谱，同时LED彩灯点状显示；
音频输入方式：3.5mm音频线输入。

硬件
STM32F103最小系统模块，0.96OLED显示屏模块，4欧3W喇叭，LM386放大电路，自制电路板。

整体实现思路

3.5mm音频线输入：
音频经3.5mm音频线入板载功放LM386芯片，经放大驱动喇叭播放同时供单片机采集音频模拟量。
为方便控制OLED显示，采用显存方式。
流程：
使用定时器3触发ADC采样，DMA搬运至DMA1_ADCValue数组；
使用定时器2节拍定时触发傅里叶计算、填充显存，刷新OLED显示；
使用定时器4采集按键；

引脚：
ADC -> A0

OLED-SCL -> PB6
OLED-SDA -> PB7

按键：
S2 -> PB0
S3 -> PB1

LED彩灯：
D1 -> PB8
D2 -> PB9
D3 -> PB10
D4 -> PB11
D5 -> PB12
D6 -> PB13
D7 -> PB14
D8 -> PB15

疑问：
1.为什么是减去2048
FFT_Input[i]=DMA1_ADCValue[i]-2048



